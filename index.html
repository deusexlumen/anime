<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEMOKRATIE 2.0 | Die Kathedrale</title>
    <style>
        :root {
            --void: #000000;
            --gold: #d4af37;
            --gold-dim: rgba(212, 175, 55, 0.1);
            --danger: #cf3030;
            --toxin: #8a2be2;
            --tech: #00f0ff;
            --glass: rgba(10, 10, 10, 0.92);
            --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--void);
            color: #fff;
            font-family: var(--font-main);
            overflow-x: hidden;
            height: 40000px; /* Gigantische Tiefe für den "Muser"-Modus */
            overscroll-behavior: none;
            cursor: crosshair;
        }

        /* --- LAYERS --- */
        #starfield { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0; pointer-events: none; }
        
        #fog {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 20%, #000000 100%);
            z-index: 1; pointer-events: none; opacity: 0.9;
        }

        #tunnel-viewport {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            perspective: 1200px; z-index: 2; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }

        #tunnel-world {
            position: absolute; width: 100%; height: 100%;
            transform-style: preserve-3d; will-change: transform;
        }

        /* --- NODES (The Pillars) --- */
        .node {
            position: absolute; top: 50%; left: 50%;
            width: 80vw; max-width: 900px; text-align: center; opacity: 0;
            transform: translate3d(-50%, -50%, 0); backface-visibility: hidden;
            z-index: 10;
        }

        /* --- THE DEBRIS FIELD (Floating Text) --- */
        .debris {
            position: absolute; top: 50%; left: 50%;
            font-size: 1.5rem; font-weight: 700; color: rgba(255,255,255,0.15);
            white-space: nowrap; pointer-events: none; text-transform: uppercase;
            transform-style: preserve-3d; font-family: monospace; letter-spacing: 0.2em;
            text-shadow: 0 0 10px rgba(0,0,0,1);
        }

        /* --- MONOLITH UI --- */
        .monolith {
            padding: 4rem; background: var(--glass);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 0 0 1px #000, 0 50px 100px -20px rgba(0,0,0,1);
            position: relative; overflow: hidden; 
            transition: all 0.8s cubic-bezier(0.1, 0.9, 0.2, 1);
            transform-style: preserve-3d;
        }

        .monolith::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            opacity: 0.5;
        }

        .monolith:hover { border-color: rgba(212,175,55,0.5); transform: scale(1.02) translateZ(50px); }
        .monolith.playing { border-color: var(--gold); box-shadow: 0 0 100px var(--gold-dim); }

        .expand-btn {
            display: inline-block; margin-top: 30px; padding: 15px 40px; 
            border: 1px solid rgba(255,255,255,0.2); color: #fff; 
            font-size: 0.8rem; letter-spacing: 0.3em; cursor: pointer;
            transition: 0.4s; text-transform: uppercase;
        }
        .expand-btn:hover { background: var(--gold); border-color: var(--gold); color: #000; }

        /* --- TYPOGRAPHY --- */
        h1 { font-size: clamp(4rem, 10vw, 12rem); font-weight: 900; letter-spacing: -0.02em; color: #fff; margin-bottom: 2rem; }
        h2 { font-size: 1rem; letter-spacing: 0.8em; text-transform: uppercase; color: var(--gold); margin-bottom: 4rem; border-top: 1px solid var(--gold); display: inline-block; padding-top: 10px; }
        
        .quote-main { font-size: 1.8rem; font-weight: 300; line-height: 1.4; color: #eee; margin-bottom: 1rem; }
        .quote-sub { font-size: 0.9rem; color: #666; font-family: monospace; text-transform: uppercase; letter-spacing: 0.1em; }

        /* --- DEEP DATA OVERLAY --- */
        #data-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.96); z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.6s ease;
        }
        #data-overlay.active { opacity: 1; pointer-events: all; }
        
        .data-card {
            width: 80%; max-width: 1000px; max-height: 90vh; overflow-y: auto;
            padding: 5rem; border-right: 4px solid var(--gold);
            background: linear-gradient(90deg, rgba(10,10,10,1) 0%, rgba(20,20,20,1) 100%);
        }
        .data-content h3 { font-size: 3rem; color: var(--gold); margin-bottom: 2rem; text-transform: uppercase; }
        .data-content p { font-size: 1.2rem; line-height: 1.8; color: #bbb; margin-bottom: 2rem; max-width: 800px; }
        .close-data { position: absolute; top: 40px; left: 40px; font-size: 2rem; color: #444; cursor: pointer; }
        .close-data:hover { color: #fff; }

        /* --- START SCREEN --- */
        #start-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .init-btn {
            border: 1px solid #fff; padding: 25px 80px; color: #fff;
            font-size: 1rem; letter-spacing: 0.5em; cursor: pointer; transition: 0.5s;
            text-transform: uppercase; background: #000;
        }
        .init-btn:hover { background: #fff; color: #000; }

        /* SCROLL HIDE */
        ::-webkit-scrollbar { width: 0; }
    </style>
    
    <script src="./dist/bundles/anime.umd.js"></script>
</head>
<body>

    <div id="data-overlay">
        <div class="close-data" onclick="closeData()">× SCHLIESSEN</div>
        <div class="data-card">
            <div id="data-content-inject" class="data-content"></div>
        </div>
    </div>

    <div id="start-screen">
        <div class="init-btn" onclick="initializeCathedral()">SYSTEM STARTEN</div>
        <p style="margin-top:30px; color:#444; font-family:monospace;">AUDIO + GPU</p>
    </div>

    <canvas id="starfield"></canvas>
    <div id="fog"></div>

    <div id="tunnel-viewport">
        <div id="tunnel-world">
            
            <div id="debris-container"></div>

            <section class="node" data-z="0" data-act="prolog">
                <h1>STASIS</h1>
                <p class="quote-main">Die fortwährende Aristokratie.</p>
                <div style="margin-top: 15rem; font-size: 0.8rem; letter-spacing: 0.4em; opacity: 0.5;">SCROLLEN ZUM EINTAUCHEN</div>
            </section>

            <section class="node" data-z="6000" data-act="illusion">
                <h2>PHASE I: DIE ILLUSION</h2>
                <audio id="audio-1" src="./2Wie_Bildung_einen_neuen_Adel_schafft.m4a" preload="auto"></audio>
                
                <div class="monolith">
                    <div class="quote-main">"Bildungsideale sind die Geißel der Menschheit."</div>
                    <div class="quote-sub">FILE: 2_Bildungsadel.m4a</div>
                    
                    <div style="margin-top: 3rem; display:flex; justify-content:center; gap:20px;">
                        <div class="expand-btn" onclick="toggleAudio('audio-1', this.parentNode.parentNode)">▶ ABSPIELEN</div>
                        <div class="expand-btn" onclick="openData('bildung')">✚ ANALYSE</div>
                    </div>
                </div>
            </section>

            <section class="node" data-z="12000" data-act="danger">
                <h2 style="color:var(--danger); border-color:var(--danger);">PHASE II: DER BRAND</h2>
                <audio id="audio-2" src="./3Parteien_als_historischer_Brandbeschleuniger_fuer_Diktaturen.m4a" preload="auto"></audio>
                
                <div class="monolith" style="border-color: rgba(207, 48, 48, 0.3);">
                    <div class="quote-main" style="color: #ffbdbd;">"Parteien sind Brandbeschleuniger für Diktaturen."</div>
                    <div class="quote-sub" style="color: var(--danger);">FILE: 3_Brandbeschleuniger.m4a</div>
                    
                    <div style="margin-top: 3rem; display:flex; justify-content:center; gap:20px;">
                        <div class="expand-btn" style="border-color:var(--danger); color:var(--danger);" onclick="toggleAudio('audio-2', this.parentNode.parentNode)">▶ WARNUNG</div>
                        <div class="expand-btn" style="border-color:var(--danger); color:var(--danger);" onclick="openData('parteien')">✚ FAKTEN</div>
                    </div>
                </div>
            </section>

            <section class="node" data-z="18000" data-act="void">
                <h2>PHASE III: DER UNBEGRIFF</h2>
                <audio id="audio-3" src="./1Warum_Politiker_eigentlich_keine_Politik_machen.m4a" preload="auto"></audio>
                
                <div class="monolith">
                    <div class="quote-main">"Politiker machen keine Politik."</div>
                    <div class="quote-sub">FILE: 1_Dienstleister.m4a</div>
                    
                    <div style="margin-top: 3rem; display:flex; justify-content:center; gap:20px;">
                        <div class="expand-btn" onclick="toggleAudio('audio-3', this.parentNode.parentNode)">▶ ABSPIELEN</div>
                        <div class="expand-btn" onclick="openData('politiker')">✚ ANALYSE</div>
                    </div>
                </div>
            </section>

            <section class="node" data-z="24000" data-act="solution">
                <h1 style="font-size: 8rem; text-shadow: 0 0 120px white;">ISONOMIE</h1>
                <audio id="audio-4" src="./4Losdemokratie_als_einziger_Schutz_vor_Faschismus.m4a" preload="auto"></audio>
                
                <div class="monolith" style="background: rgba(255,255,255,0.05); border-color: #fff;">
                    <div class="quote-main" style="color:#fff;">"Der einzige Schutz vor Faschismus."</div>
                    <div class="quote-sub" style="color:#aaa;">FILE: 4_Losdemokratie.m4a</div>
                    
                    <div style="margin-top: 3rem; display:flex; justify-content:center; gap:20px;">
                        <div class="expand-btn" style="border-color:#fff; color:#fff;" onclick="toggleAudio('audio-4', this.parentNode.parentNode)">▶ MANIFESTO</div>
                        <div class="expand-btn" style="border-color:#fff; color:#fff;" onclick="openData('los')">✚ BLUEPRINT</div>
                    </div>
                </div>
            </section>

            <section class="node" data-z="30000" data-act="matrix">
                <h2 style="color:var(--tech); border-color:var(--tech);">SYSTEM STATUS: ONLINE</h2>
                
                <div class="monolith" style="padding: 2rem; max-width: 1000px; width: 90vw;">
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:3rem; text-align:left; border-top:1px solid #333; padding-top:3rem;">
                        <div>
                            <h4 style="color:var(--tech); margin-bottom:0.5rem; letter-spacing:0.2em;">X-ROAD PROTOCOL</h4>
                            <p style="font-size:0.9rem; color:#888;">Dezentraler Datenaustausch nach Estland-Modell. Keine zentrale Schwachstelle.</p>
                        </div>
                        <div>
                            <h4 style="color:var(--tech); margin-bottom:0.5rem; letter-spacing:0.2em;">KSI BLOCKCHAIN</h4>
                            <p style="font-size:0.9rem; color:#888;">Mathematische Unbestechlichkeit für Los-Verfahren.</p>
                        </div>
                        <div>
                            <h4 style="color:var(--tech); margin-bottom:0.5rem; letter-spacing:0.2em;">DRAND BEACON</h4>
                            <p style="font-size:0.9rem; color:#888;">Verifizierbarer Zufall. Manipulation physikalisch unmöglich.</p>
                        </div>
                        <div>
                            <h4 style="color:var(--tech); margin-bottom:0.5rem; letter-spacing:0.2em;">EIDAS IDENTITY</h4>
                            <p style="font-size:0.9rem; color:#888;">Souveräne digitale Bürgerschaft (EU-Standard).</p>
                        </div>
                    </div>
                    <div style="margin-top: 4rem;">
                        <a href="Argumentations-Matrix & System-Validierung.pdf" target="_blank" class="expand-btn" style="border-color:var(--tech); color:var(--tech); text-decoration:none;">MATRIX.PDF HERUNTERLADEN</a>
                        <a href="https://www.youtube.com/@ArdalanIbrahim" target="_blank" class="expand-btn" style="text-decoration:none; margin-left: 20px;">YOUTUBE KANAL</a>
                    </div>
                </div>
            </section>

        </div>
    </div>

    <script>
        // --- MASSIVE CONTENT DATABASE (DEBRIS) ---
        const DEBRIS_DATA = [
            // Akt 1: Bildung
            {t:"NEUER ADEL", z:3000}, {t:"PLATONS IRRTUM", z:3500}, {t:"ARROGANZ", z:4000},
            {t:"GEISSEL DER MENSCHHEIT", z:4500}, {t:"EXKLUSION", z:5000}, {t:"HERRSCHAFTSWISSEN", z:5500},
            {t:"IDIOTISCHE FANTASIE", z:6500}, {t:"ARISTOKRATIE", z:7000},
            // Akt 2: Parteien
            {t:"BRANDBESCHLEUNIGER", z:9000}, {t:"TYRANNEI", z:9500}, {t:"DIKTATUR", z:10000},
            {t:"PARTEIEN SIND SINNLOS", z:10500}, {t:"KRIEG", z:11000}, {t:"SPALTUNG", z:11500},
            {t:"MACHTKAMPF", z:12500}, {t:"KEIN GEWISSEN", z:13000},
            // Akt 3: Politiker
            {t:"DIENSTLEISTER", z:15000}, {t:"UNPOLITISCHE GESELLSCHAFT", z:15500}, {t:"UNBEGRIFF", z:16000},
            {t:"LEGITIMATION", z:16500}, {t:"WAHL IST ARISTOKRATISCH", z:17000}, {t:"BERUFSPOLITIK", z:17500},
            {t:"VERWALTER", z:18500},
            // Akt 4: Lösung
            {t:"WIR REGIEREN UNS", z:21000}, {t:"ISONOMIE", z:21500}, {t:"GLEICHHEIT", z:22000},
            {t:"SOUVERÄNITÄT", z:22500}, {t:"LOSVERFAHREN", z:23000}, {t:"ALEATORIK", z:23500},
            {t:"FREIHEIT", z:24000}, {t:"KEIN TYRANN", z:24500}, {t:"SYSTEM VALIDIERUNG", z:25000}
        ];

        // --- LONG TEXTS ---
        const CONTENT_TEXTS = {
            'bildung': 'Unsere Kultur ist getrieben von der idiotischen Fantasie, dass Bildung ein Kriterium für Herrschaft sein sollte. Das ist purer Platonismus. Wir halten Individuen frei von Arbeit (Aristokraten), damit sie sich "bilden" und dann über uns herrschen. Das Ergebnis ist eine Exklusion der Mehrheit. Demokratie bedeutet: JEDER ist fähig zu herrschen.',
            'parteien': 'Parteien sind intern Diktaturen. Wer in eine Partei eintritt, gibt sein Gewissen an der Garderobe ab. Historisch gesehen verhindern Parteien keine Diktaturen – sie gebären sie. Wenn sich die Gesellschaft spaltet und Parteien gegeneinander Krieg führen, ist der Ruf nach dem "starken Mann" die logische Konsequenz.',
            'politiker': 'Der Begriff "Politiker" ist ein Symptom des Verfalls. In einer Demokratie gibt es keine Politiker, weil ALLE Politiker sind. Was wir heute haben, sind gewählte Aristokraten, die wir alle 4 Jahre legitimieren. Politik ist eine Praxis, kein Beruf.',
            'los': 'Wenn wir alle regieren, kann kein Tyrann entstehen. Die Losdemokratie ist das einzige System, das Korruption strukturell unmöglich macht. Niemand kann "Karriere" machen. Niemand muss wiedergewählt werden. Es zählt nur das Sachproblem.'
        };

        // --- STATE ---
        const STATE = { scroll: 0, target: 0, w: 0, h: 0, act: 'prolog', audioCtx: null, analyser: null, data: null, activeAudio: null };
        const CONFIG = { lerp: 0.04 }; // Very heavy scroll

        // --- DOM ---
        const world = document.getElementById('tunnel-world');
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');

        // --- INIT ---
        window.initializeCathedral = function() {
            window.scrollTo(0,0); // Force Reset
            
            try {
                STATE.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                STATE.analyser = STATE.audioCtx.createAnalyser();
                STATE.analyser.fftSize = 256;
                STATE.data = new Uint8Array(STATE.analyser.frequencyBinCount);
                
                document.querySelectorAll('audio').forEach(el => {
                    const src = STATE.audioCtx.createMediaElementSource(el);
                    src.connect(STATE.analyser);
                    STATE.analyser.connect(STATE.audioCtx.destination);
                });
            } catch(e) {}

            document.getElementById('start-screen').style.opacity = 0;
            setTimeout(() => document.getElementById('start-screen').remove(), 1000);
            render();
        };

        // --- DEBRIS GENERATOR ---
        function initDebris() {
            const container = document.getElementById('debris-container');
            DEBRIS_DATA.forEach(item => {
                // Generate multiple copies for density
                for(let i=0; i<3; i++) {
                    const el = document.createElement('div');
                    el.className = 'debris';
                    el.textContent = item.t;
                    
                    const x = (Math.random() - 0.5) * 1500;
                    const y = (Math.random() - 0.5) * 800;
                    const z = item.z + (Math.random() - 0.5) * 800;
                    const rotX = (Math.random() - 0.5) * 40;
                    const rotY = (Math.random() - 0.5) * 40;
                    
                    el.setAttribute('data-base-z', z);
                    el.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
                    
                    // Act Styling
                    if(z > 9000 && z < 14000) el.style.color = '#550000'; // Blood Act 2
                    if(z > 20000) el.style.color = '#fff'; // White Act 4
                    
                    container.appendChild(el);
                }
            });
        }

        function init() {
            const r = () => { STATE.w = canvas.width = window.innerWidth; STATE.h = canvas.height = window.innerHeight; };
            window.addEventListener('resize', r); r();
            initDebris();
            
            // Place Main Nodes
            document.querySelectorAll('.node').forEach(n => {
                n.style.transform = `translate3d(-50%, -50%, ${n.getAttribute('data-z')}px)`;
            });
        }
        init();

        // --- STARS (ZOOM EFFECT) ---
        class Star {
            constructor() { this.reset(); }
            reset() {
                this.x = (Math.random() - 0.5) * STATE.w * 2;
                this.y = (Math.random() - 0.5) * STATE.h * 2;
                this.z = Math.random() * 2000 + 1000; // Start far away
                this.size = Math.random() * 2;
            }
            update(speed) {
                // Move towards camera based on scroll speed
                this.z -= (5 + speed * 2);
                if(this.z < 1) this.reset();
            }
            draw() {
                const scale = 1000 / this.z;
                const x2d = this.x * scale + STATE.w/2;
                const y2d = this.y * scale + STATE.h/2;
                
                ctx.globalAlpha = Math.min(1, (2000 - this.z) / 1000);
                ctx.fillStyle = STATE.act === 'danger' ? '#ff0000' : '#d4af37';
                ctx.fillRect(x2d, y2d, this.size * scale, this.size * scale);
            }
        }
        const stars = Array.from({length: 300}, () => new Star());

        // --- RENDER ---
        function render() {
            STATE.target = window.scrollY;
            const diff = STATE.target - STATE.scroll;
            STATE.scroll += diff * CONFIG.lerp;
            const speed = Math.abs(diff);

            // Audio
            let bass = 0;
            if(STATE.analyser) {
                STATE.analyser.getByteFrequencyData(STATE.data);
                bass = STATE.data[10];
            }

            // 1. World Move (ZOOM IN)
            // Camera moves forward into negative Z
            world.style.transform = `translate3d(0, 0, ${-STATE.scroll.toFixed(2)}px)`;

            // 2. Logic
            document.querySelectorAll('.node').forEach(n => {
                const z = parseInt(n.getAttribute('data-z'));
                const dist = Math.abs(z - STATE.scroll);
                
                if(dist < 2000) STATE.act = n.getAttribute('data-act');

                if(dist < 4000) {
                    n.style.visibility = 'visible';
                    n.style.opacity = 1 - (dist / 3500);
                } else {
                    n.style.visibility = 'hidden';
                }

                // Audio Auto-Mute
                if(STATE.activeAudio && dist > 2000) {
                    const a = document.getElementById(STATE.activeAudio);
                    if(a && !a.paused) { 
                        a.pause(); 
                        document.querySelector('.monolith.playing').classList.remove('playing');
                    }
                }
            });

            // 3. Debris Visibility
            document.querySelectorAll('.debris').forEach(d => {
                const z = parseInt(d.getAttribute('data-base-z'));
                const dist = Math.abs(z - STATE.scroll);
                // Nur sichtbar wenn nah
                if(dist < 2000) d.style.opacity = (1 - (dist/2000)) * 0.7;
                else d.style.opacity = 0;
            });

            // 4. Canvas
            ctx.clearRect(0,0,STATE.w, STATE.h);
            stars.forEach(s => {
                s.update(speed);
                s.draw();
            });

            requestAnimationFrame(render);
        }

        // --- UTILS ---
        window.openData = (key) => {
            const c = CONTENT_TEXTS[key];
            const t = document.querySelector(`.node[data-act="${key === 'parteien' ? 'danger' : key === 'los' ? 'solution' : key === 'politiker' ? 'void' : 'illusion'}"] h2`).innerText;
            document.getElementById('data-content-inject').innerHTML = `<h3>${t}</h3><p>${c}</p>`;
            document.getElementById('data-overlay').classList.add('active');
        };
        window.closeData = () => document.getElementById('data-overlay').classList.remove('active');
        
        window.toggleAudio = (id, el) => {
            if(STATE.audioCtx && STATE.audioCtx.state === 'suspended') STATE.audioCtx.resume();
            const a = document.getElementById(id);
            if(!a.paused) {
                a.pause(); el.classList.remove('playing'); STATE.activeAudio = null;
            } else {
                document.querySelectorAll('audio').forEach(x => { x.pause(); x.currentTime = 0; });
                document.querySelectorAll('.monolith').forEach(m => m.classList.remove('playing'));
                a.play(); el.classList.add('playing'); STATE.activeAudio = id;
            }
        };

    </script>
</body>
</html>
